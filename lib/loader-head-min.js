/*
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">? Web It Up</a>
 @name https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#36-2052154309d0dcdf4b74e58672e3b416edf709a2
*/
'use strict';(function(e){function f(a){d[d.length]=a}function i(a){c.className=c.className.replace(RegExp("\\b"+a+"\\b"),"")}function h(a,c){for(var b=0,d=a.length;b<d;b++)c.call(a,a[b],b)}function k(){var a=window.outerWidth||c.clientWidth;c.className=c.className.replace(/ (w|lt)-\d+/g,"");f("w-"+Math.round(a/100)*100);h(b.screens,function(c){a<=c&&f("lt-"+c)});g.feature()}var c=e.documentElement,b={screens:[320,480,640,768,1024,1280,1440,1680,1920],section:"-section",page:"-page",head:"head"},
d=[];if(window.head_conf)for(var a in head_conf)head_conf[a]!==void 0&&(b[a]=head_conf[a]);var g=window[b.head]=function(){g.ready.apply(null,arguments)};g.feature=function(a,b,e){if(a)return Object.prototype.toString.call(b)=="[object Function]"&&(b=b.call()),f((b?"":"no-")+a),g[a]=!!b,e||(i("no-"+a),i(a),g.feature()),g;else c.className+=" "+d.join(" "),d=[]};a=navigator.userAgent.toLowerCase();a=/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||
!/compatible/.test(a)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[];a[1]=="msie"&&(a[1]="ie",a[2]=document.documentMode||a[2]);f(a[1]);g.browser={version:a[2]};g.browser[a[1]]=true;if(g.browser.ie){f("ie"+parseFloat(a[2]));for(var m=3;m<11;m++)parseFloat(a[2])<m&&f("lt-ie"+m);h("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(a){e.createElement(a)})}h(location.pathname.split("/"),function(a,
d){if(this.length>2&&this[d+1]!==void 0)d&&f(this.slice(1,d+1).join("-")+b.section);else{var e=a||"index",g=e.indexOf(".");g>0&&(e=e.substring(0,g));c.id=e+b.page;d||f("root"+b.section)}});k();window.onresize=k;g.feature("js",true).feature()})(document);
(function(){function e(a){var b=a.charAt(0).toUpperCase()+a.substr(1),a=(a+" "+k.join(b+" ")+b).split(" "),c;a:for(var d in a)if(i[a[d]]!==void 0){c=true;break a}return!!c}var f=document.createElement("i"),i=f.style,h=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),k="Webkit Moz O ms Khtml".split(" "),c=window[window.head_conf&&head_conf.head||"head"],b={gradient:function(){i.cssText=("background-image:"+h.join("gradient(linear,left top,right bottom,from(#9f9),to(#fff));background-image:")+h.join("linear-gradient(left top,#eee,#fff);background-image:")).slice(0,
-17);return!!i.backgroundImage},rgba:function(){i.cssText="background-color:rgba(0,0,0,0.5)";return!!i.backgroundColor},opacity:function(){return f.style.opacity===""},textshadow:function(){return i.textShadow===""},multiplebgs:function(){i.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(i.background)},boxshadow:function(){return e("boxShadow")},borderimage:function(){return e("borderImage")},borderradius:function(){return e("borderRadius")},cssreflections:function(){return e("boxReflect")},
csstransforms:function(){return e("transform")},csstransitions:function(){return e("transition")},fontface:function(){var a=navigator.userAgent,b;return(b=a.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/))?b[1]>="4.0.249.4"||1*b[1].split(".")[0]>5:(b=a.match(/Safari\/(\d+\.\d+)/))&&!/iPhone/.test(a)?b[1]>="525.13":/Opera/.test({}.toString.call(window.opera))?opera.version()>="10.00":(b=a.match(/rv:(\d+\.\d+\.\d+)[^b].*Gecko\//))?b[1]>="1.9.1":false}},d;for(d in b)b[d]&&c.feature(d,b[d].call(),true);c.feature()})();
(function(e){function f(l){if(!l._done)l(),l._done=1}function i(l){var a;if(typeof l=="object")for(var b in l)l[b]&&(a={name:b,url:l[b]});else a=l.split("/"),a=a[a.length-1],b=a.indexOf("?"),a={name:b!=-1?a.substring(0,b):a,url:l};return(l=p[a.name])&&l.url===a.url?l:p[a.name]=a}function h(a,b){if(a){typeof a=="object"&&(a=[].slice.call(a));for(var c=0;c<a.length;c++)b.call(a,a[c],c)}}function k(a){return Object.prototype.toString.call(a)=="[object Function]"}function c(a){var a=a||p,b,c;for(c in a){if(a.hasOwnProperty(c)&&
a[c].state!=q)return false;b=true}return b}function b(a){a.state=z;h(a.onpreload,function(a){a.call()})}function d(a){if(a.state===void 0)a.state=v,a.onpreload=[],g({src:a.url,type:"cache"},function(){b(a)})}function a(b,d){if(b.state==q)return d&&d();if(b.state==w)return j.ready(b.name,d);if(b.state==v)return b.onpreload.push(function(){a(b,d)});b.state=w;g(b.url,function(){b.state=q;d&&d();h(o[b.name],function(a){f(a)});c()&&n&&h(o.ALL,function(a){f(a)})})}function g(a,b){var c=e.createElement("script");
c.type="text/"+(a.type||"javascript");c.src=a.src||a;c.async=false;c.onreadystatechange=c.onload=function(){var a=c.readyState;if(!b.done&&(!a||/loaded|complete/.test(a)))b.done=true,b()};(e.body||s).appendChild(c)}function m(){n||(n=true,h(u,function(a){f(a)}))}var s=e.documentElement,t,n,u=[],x=[],o={},p={},r=e.createElement("script").async===true||"MozAppearance"in e.documentElement.style||window.opera,y=window.head_conf&&head_conf.head||"head",j=window[y]=window[y]||function(){j.ready.apply(null,
arguments)},z=1,v=2,w=3,q=4;j.js=r?function(){var b=arguments,d=b[b.length-1],e={};k(d)||(d=null);h(b,function(g,h){g!=d&&(g=i(g),e[g.name]=g,a(g,d&&h==b.length-2?function(){c(e)&&f(d)}:null))});return j}:function(){var b=arguments,c=[].slice.call(b,1),e=c[0];if(!t)return x.push(function(){j.js.apply(null,b)}),j;e?(h(c,function(a){k(a)||d(i(a))}),a(i(b[0]),k(e)?e:function(){j.js.apply(null,c)})):a(i(b[0]));return j};j.ready=function(a,b){if(a==e)return n?f(b):u.push(b),j;k(a)&&(b=a,a="ALL");if(typeof a!=
"string"||!k(b))return j;var d=p[a];if(d&&d.state==q||a=="ALL"&&c()&&n)return f(b),j;(d=o[a])?d.push(b):o[a]=[b];return j};j.ready(e,function(){c()&&h(o.ALL,function(a){f(a)});j.feature&&j.feature("domloaded",true)});if(window.addEventListener)e.addEventListener("DOMContentLoaded",m,false),window.addEventListener("load",m,false);else if(window.attachEvent){e.attachEvent("onreadystatechange",function(){e.readyState==="complete"&&m()});r=1;try{r=window.frameElement}catch(A){}!r&&s.doScroll&&function(){try{s.doScroll("left"),
m()}catch(a){setTimeout(arguments.callee,1)}}();window.attachEvent("onload",m)}if(!e.readyState&&e.addEventListener)e.readyState="loading",e.addEventListener("DOMContentLoaded",handler=function(){e.removeEventListener("DOMContentLoaded",handler,false);e.readyState="complete"},false);setTimeout(function(){t=true;h(x,function(a){a()})},300)})(document);
(function(){var e;typeof head!="undefined"&&(e=function(){return function(c,b){c.push(b);return head.js.apply(head.js,c)}});typeof YUI!="undefined"&&(e=function(){var c;YUI().use("get",function(b){c=b});c.Get.options.async=true;return function(){c.Get.js.apply(c.Get,arguments)}});typeof yepnope!="undefined"&&(e=function(){return function(c,b){var d=c[c.length-1];yepnope({load:c,callback:function(a){d==a&&b()}})}});typeof requirejs!="undefined"&&(e=function(){return function(c,b){requirejs(c,b)}});
var f;typeof $LAB!="undefined"&&(f=function(){var c=$LAB.sandbox();this.script=function(b){c=c.script(b);return this};this.wait=function(b){c=b?c.wait(b):c.wait();return this}});f||(f=function(){var c=null,b=[],d=false,a=e(),g=function(){if(!d&&(d=b.shift()))if(d.uris.length)a(d.uris,function(a){var b=d.callback;d=false;b&&b(a);g()});else{var c=d.callback;d=false;c&&c();g()}};this.script=function(a){c&&clearTimeout(c);b.length||b.push({uris:[],callback:false});b[b.length-1].uris.push(a);c=setTimeout(g,
1);return this};this.wait=function(a){var c=b.length?b[b.length-1]:false;d&&(c=d);if(!c)return a&&a(),this;c.callback?b.push({uris:[],callback:a}):(c.callback=a,b.push({uris:[],callback:false}));return this}});f.prototype.fork=function(){return new f};f.prototype.base=function(c){for(var b=aDoc.getElementsByTagName("script"),d,c=RegExp(c),a=0,e;a<b.length;e=b[a].getAttribute("src"),a++)if(e&&c.test(e)){d=e.split("/");d.pop();d=d.join("/");break}return d};var i=1,h=null;f.prototype.style=function(c,
b){var d=document.getElementsByTagName("head")[0],a=document.createElement("link");a.setAttribute("type","text/css");a.setAttribute("rel","stylesheet");a.setAttribute("data-spitfire-index",i);b&&a.setAttribute("media",b);a.setAttribute("href",c);if(!h)h=d.lastChild;!h||!h.nextSibling?d.appendChild(a):d.insertBefore(a,h.nextSibling);h=a;i++};var k=typeof define==="function"&&define.amd;if(k||typeof exports=="object"&&exports)k&&define("Spitfire/loader",new f);else{if(!("Spitfire"in this))this.Spitfire=
{};this.Spitfire.loader=new f}}).apply(this);
