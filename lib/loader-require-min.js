/*
 RequireJS 2.0.6 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">? Web It Up</a>
 @name https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#36-2052154309d0dcdf4b74e58672e3b416edf709a2
*/
'use strict';var requirejs,require,define;
(function(z){function j(b){return K.call(b)==="[object Function]"}function x(b){return K.call(b)==="[object Array]"}function o(b,g){if(b){var i;for(i=0;i<b.length;i+=1)if(b[i]&&g(b[i],i,b))break}}function A(b,g){if(b){var i;for(i=b.length-1;i>-1;i-=1)if(b[i]&&g(b[i],i,b))break}}function c(b,g){for(var i in b)if(b.hasOwnProperty(i)&&g(b[i],i))break}function h(b,g,i,d){g&&c(g,function(g,c){if(i||!H.call(b,c))d&&typeof g!=="string"?(b[c]||(b[c]={}),h(b[c],g,i,d)):b[c]=g});return b}function d(b,g){return function(){return g.apply(b,
arguments)}}function Z(b){if(!b)return b;var g=z;o(b.split("."),function(b){g=g[b]});return g}function $(b,g,i){return function(){var c=ea.call(arguments,0),f;if(i&&j(f=c[c.length-1]))f.__requireJsBuild=true;c.push(g);return b.apply(null,c)}}function aa(b,g,c){o([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(d){var f=d[1]||d[0];b[d[0]]=g?$(g[f],c):function(){var b=B[N];return b[f].apply(b,arguments)}})}function I(b,g,c,d){g=Error(g+"\nhttp://requirejs.org/docs/errors.html#"+
b);g.requireType=b;g.requireModules=d;if(c)g.originalError=c;return g}function O(){if(J&&J.readyState==="interactive")return J;A(document.getElementsByTagName("script"),function(b){if(b.readyState==="interactive")return J=b});return J}var q,s,w,E,v,C,J,F,P,ba,fa=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,ga=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ca=/\.js$/,ha=/^\.\//;s=Object.prototype;var K=s.toString,H=s.hasOwnProperty;s=Array.prototype;var ea=s.slice,ia=s.splice,y=!!(typeof window!==
"undefined"&&navigator&&document),da=!y&&typeof importScripts!=="undefined",ja=y&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,N="_",U=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",B={},u={},Q=[],L=false;if(typeof define==="undefined"){if(typeof requirejs!=="undefined"){if(j(requirejs))return;u=requirejs;requirejs=void 0}typeof require!=="undefined"&&!j(require)&&(u=require,require=void 0);q=requirejs=function(b,g,c,d){var f,h=N;!x(b)&&typeof b!=="string"&&
(f=b,x(g)?(b=g,g=c,c=d):b=[]);if(f&&f.context)h=f.context;(d=B[h])||(d=B[h]=q.s.newContext(h));f&&d.configure(f);return d.require(b,g,c)};q.config=function(b){return q(b)};require||(require=q);q.version="2.0.6";q.jsExtRegExp=/^\/|:|\?|\.js$/;q.isBrowser=y;s=q.s={contexts:B,newContext:function(b){function g(a,e,m){var l,b,p,c,g,d,f,h=e&&e.split("/");l=h;var i=n.map,k=i&&i["*"];if(a&&a.charAt(0)===".")if(e){l=n.pkgs[e]?h=[e]:h.slice(0,h.length-1);e=a=l.concat(a.split("/"));for(l=0;e[l];l+=1)if(b=e[l],
b===".")e.splice(l,1),l-=1;else if(b==="..")if(l===1&&(e[2]===".."||e[0]===".."))break;else l>0&&(e.splice(l-1,2),l-=2);l=n.pkgs[e=a[0]];a=a.join("/");l&&a===e+"/"+l.main&&(a=e)}else a.indexOf("./")===0&&(a=a.substring(2));if(m&&(h||k)&&i){e=a.split("/");for(l=e.length;l>0;l-=1){p=e.slice(0,l).join("/");if(h)for(b=h.length;b>0;b-=1)if(m=i[h.slice(0,b).join("/")])if(m=m[p]){c=m;g=l;break}if(c)break;!d&&k&&k[p]&&(d=k[p],f=l)}!c&&d&&(c=d,g=f);c&&(e.splice(0,g,c),a=e.join("/"))}return a}function i(a){y&&
o(document.getElementsByTagName("script"),function(e){if(e.getAttribute("data-requiremodule")===a&&e.getAttribute("data-requirecontext")===k.contextName)return e.parentNode.removeChild(e),true})}function T(a){var e=n.paths[a];if(e&&x(e)&&e.length>1)return i(a),e.shift(),k.undef(a),k.require([a]),true}function f(a,e,m,l){var b,p,c=a?a.indexOf("!"):-1,d=null,f=e?e.name:null,h=a,i=true,n="";a||(i=false,a="_@r"+(N+=1));c!==-1&&(d=a.substring(0,c),a=a.substring(c+1,a.length));d&&(d=g(d,f,l),p=t[d]);a&&
(d?n=p&&p.normalize?p.normalize(a,function(a){return g(a,f,l)}):g(a,f,l):(n=g(a,f,l),b=k.nameToUrl(n)));a=d&&!p&&!m?"_unnormalized"+(P+=1):"";return{prefix:d,name:n,parentMap:e,unnormalized:!!a,url:b,originalName:h,isDefine:i,id:(d?d+"!"+n:n)+a}}function s(a){var e=a.id,m=r[e];m||(m=r[e]=new k.Module(a));return m}function u(a,e,m){var b=a.id,c=r[b];if(H.call(t,b)&&(!c||c.defineEmitComplete))e==="defined"&&m(t[b]);else s(a).on(e,m)}function D(a,e){var m=a.requireModules,b=false;if(e)e(a);else if(o(m,
function(e){if(e=r[e])e.error=a,e.events.error&&(b=true,e.emit("error",a))}),!b)q.onError(a)}function v(){Q.length&&(ia.apply(G,[G.length-1,0].concat(Q)),Q=[])}function w(a,e,m){a=a&&a.map;e=$(m||k.require,a,e);aa(e,k,a);e.isBrowser=y;return e}function A(a){delete r[a];o(M,function(e,m){if(e.map.id===a)return M.splice(m,1),e.defined||(k.waitCount-=1),true})}function B(a,e,m){var b=a.map.id,c=a.depMaps,p;if(a.inited){if(e[b])return a;e[b]=true;o(c,function(a){var a=a.id,b=r[a];return!b||m[a]||!b.inited||
!b.enabled?void 0:p=B(b,e,m)});m[b]=true;return p}}function O(a,e,b){var l=a.map.id,c=a.depMaps;if(a.inited&&a.map.isDefine){if(e[l])return t[l];e[l]=a;o(c,function(c){var c=c.id,d=r[c];!R[c]&&d&&(!d.inited||!d.enabled?b[l]=true:(d=O(d,e,b),b[c]||a.defineDepById(c,d)))});a.check(true);return t[l]}}function E(a){a.check()}function C(){var a,e,b,l,d=(b=n.waitSeconds*1E3)&&k.startTime+b<(new Date).getTime(),p=[],g=false,f=true;if(!V){V=true;c(r,function(b){a=b.map;e=a.id;if(b.enabled&&!b.error)if(!b.inited&&
d)T(e)?g=l=true:(p.push(e),i(e));else if(!b.inited&&b.fetched&&a.isDefine&&(g=true,!a.prefix))return f=false});if(d&&p.length)return b=I("timeout","Load timeout for modules: "+p,null,p),b.contextName=k.contextName,D(b);f&&(o(M,function(a){if(!a.defined){var a=B(a,{},{}),e={};a&&(O(a,e,{}),c(e,E))}}),c(r,E));if((!d||l)&&g)if((y||da)&&!W)W=setTimeout(function(){W=0;C()},50);V=false}}function F(a){s(f(a[0],null,true)).init(a[1],a[2])}function K(a){var a=a.currentTarget||a.srcElement,e=k.onScriptLoad;
a.detachEvent&&!U?a.detachEvent("onreadystatechange",e):a.removeEventListener("load",e,false);e=k.onScriptError;a.detachEvent&&!U||a.removeEventListener("error",e,false);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}var V,X,k,R,W,n={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},r={},Y={},G=[],t={},S={},N=1,P=1,M=[];R={require:function(a){return w(a)},exports:function(a){a.usingExports=true;if(a.map.isDefine)return a.exports=t[a.map.id]={}},module:function(a){return a.module={id:a.map.id,
uri:a.map.url,config:function(){return n.config&&n.config[a.map.id]||{}},exports:t[a.map.id]}}};X=function(a){this.events=Y[a.id]||{};this.map=a;this.shim=n.shim[a.id];this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};X.prototype={init:function(a,e,b,c){c=c||{};if(!this.inited){this.factory=e;if(b)this.on("error",b);else this.events.error&&(b=d(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.depMaps.rjsSkipMap=a.rjsSkipMap;this.errback=
b;this.inited=true;this.ignore=c.ignore;c.enabled||this.enabled?this.enable():this.check()}},defineDepById:function(a,e){var b;o(this.depMaps,function(e,c){if(e.id===a)return b=c,true});return this.defineDep(b,e)},defineDep:function(a,e){this.depMatched[a]||(this.depMatched[a]=true,this.depCount-=1,this.depExports[a]=e)},fetch:function(){if(!this.fetched){this.fetched=true;k.startTime=(new Date).getTime();var a=this.map;if(this.shim)w(this,true)(this.shim.deps||[],d(this,function(){return a.prefix?
this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;S[a]||(S[a]=true,k.load(this.map.id,a))},check:function(a){if(this.enabled&&!this.enabling){var e,b,c=this.map.id;b=this.depExports;var d=this.exports,p=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(j(p)){if(this.events.error)try{d=k.execCb(c,p,b,d)}catch(g){e=g}else d=k.execCb(c,
p,b,d);if(this.map.isDefine)if((b=this.module)&&b.exports!==void 0&&b.exports!==this.exports)d=b.exports;else if(d===void 0&&this.usingExports)d=this.exports;if(e)return e.requireMap=this.map,e.requireModules=[this.map.id],e.requireType="define",D(this.error=e)}else d=p;this.exports=d;if(this.map.isDefine&&!this.ignore&&(t[c]=d,q.onResourceLoad))q.onResourceLoad(k,this.map,this.depMaps);delete r[c];this.defined=true;k.waitCount-=1;k.waitCount===0&&(M=[])}this.defining=false;if(!a&&this.defined&&!this.defineEmitted)this.defineEmitted=
true,this.emit("defined",this.exports),this.defineEmitComplete=true}}else this.fetch()}},callPlugin:function(){var a=this.map,e=a.id,b=f(a.prefix,null,false,true);u(b,"defined",d(this,function(b){var m;m=this.map.name;var p=this.map.parentMap?this.map.parentMap.name:null;if(this.map.unnormalized){if(b.normalize&&(m=b.normalize(m,function(a){return g(a,p,true)})||""),b=f(a.prefix+"!"+m,this.map.parentMap,false,true),u(b,"defined",d(this,function(a){this.init([],function(){return a},null,{enabled:true,
ignore:true})})),b=r[b.id]){if(this.events.error)b.on("error",d(this,function(a){this.emit("error",a)}));b.enable()}}else m=d(this,function(a){this.init([],function(){return a},null,{enabled:true})}),m.error=d(this,function(a){this.inited=true;this.error=a;a.requireModules=[e];c(r,function(a){a.map.id.indexOf(e+"_unnormalized")===0&&A(a.map.id)});D(a)}),m.fromText=function(a,b){var e=L;e&&(L=false);s(f(a));q.exec(b);e&&(L=true);k.completeLoad(a)},b.load(a.name,w(a.parentMap,true,function(a,b,e){a.rjsSkipMap=
true;return k.require(a,b,e)}),m,n)}));k.enable(b,this);this.pluginMaps[b.id]=b},enable:function(){this.enabled=true;if(!this.waitPushed)M.push(this),k.waitCount+=1,this.waitPushed=true;this.enabling=true;o(this.depMaps,d(this,function(a,b){var c,g;if(typeof a==="string"){a=f(a,this.map.isDefine?this.map:this.map.parentMap,false,!this.depMaps.rjsSkipMap);this.depMaps[b]=a;if(c=R[a.id]){this.depExports[b]=c(this);return}this.depCount+=1;u(a,"defined",d(this,function(a){this.defineDep(b,a);this.check()}));
this.errback&&u(a,"error",this.errback)}c=a.id;g=r[c];!R[c]&&g&&!g.enabled&&k.enable(a,this)}));c(this.pluginMaps,d(this,function(a){var b=r[a.id];b&&!b.enabled&&k.enable(a,this)}));this.enabling=false;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){o(this.events[a],function(a){a(b)});a==="error"&&delete this.events[a]}};return k={config:n,contextName:b,registry:r,defined:t,urlFetched:S,waitCount:0,defQueue:G,Module:X,makeModuleMap:f,configure:function(a){a.baseUrl&&
a.baseUrl.charAt(a.baseUrl.length-1)!=="/"&&(a.baseUrl+="/");var b=n.pkgs,d=n.shim,g=n.paths,i=n.map;h(n,a,true);n.paths=h(g,a.paths,true);if(a.map)n.map=h(i||{},a.map,true,true);if(a.shim)c(a.shim,function(a,b){x(a)&&(a={deps:a});if(a.exports&&!a.exports.__buildReady)a.exports=k.makeShimExports(a.exports);d[b]=a}),n.shim=d;if(a.packages)o(a.packages,function(a){a=typeof a==="string"?{name:a}:a;b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ha,"").replace(ca,"")}}),
n.pkgs=b;c(r,function(a,b){if(!a.inited&&!a.map.unnormalized)a.map=f(b)});if(a.deps||a.callback)k.require(a.deps||[],a.callback)},makeShimExports:function(a){var b;return typeof a==="string"?(b=function(){return Z(a)},b.exports=a,b):function(){return a.apply(z,arguments)}},requireDefined:function(a,b){var c=f(a,b,false,true).id;return H.call(t,c)},requireSpecified:function(a,b){a=f(a,b,false,true).id;return H.call(t,a)||H.call(r,a)},require:function(a,e,c,d){var g;if(typeof a==="string"){if(j(e))return D(I("requireargs",
"Invalid require call"),c);if(q.get)return q.get(k,a,e);a=f(a,e,false,true);a=a.id;return!H.call(t,a)?D(I("notloaded",'Module name "'+a+'" has not been loaded yet for context: '+b)):t[a]}c&&!j(c)&&(d=c,c=void 0);e&&!j(e)&&(d=e,e=void 0);for(v();G.length;)if(g=G.shift(),g[0]===null)return D(I("mismatch","Mismatched anonymous define() module: "+g[g.length-1]));else F(g);s(f(null,d)).init(a,e,c,{enabled:true});C();return k.require},undef:function(a){v();var b=f(a,null,true),c=r[a];delete t[a];delete S[b.url];
delete Y[a];if(c){if(c.events.defined)Y[a]=c.events;A(a)}},enable:function(a){r[a.id]&&s(a).enable()},completeLoad:function(a){var b,c,d=n.shim[a]||{},g=d.exports&&d.exports.exports;for(v();G.length;){c=G.shift();if(c[0]===null){c[0]=a;if(b)break;b=true}else c[0]===a&&(b=true);F(c)}c=r[a];if(!b&&!t[a]&&c&&!c.inited)if(n.enforceDefine&&(!g||!Z(g)))if(T(a))return;else return D(I("nodefine","No define call for "+a,null,[a]));else F([a,d.deps||[],d.exports]);C()},toUrl:function(a,b){var c=a.lastIndexOf("."),
d=null;c!==-1&&(d=a.substring(c,a.length),a=a.substring(0,c));return k.nameToUrl(g(a,b&&b.id,true),d)},nameToUrl:function(a,b){var c,d,g,f,h,i;if(q.jsExtRegExp.test(a))f=a+(b||"");else{c=n.paths;d=n.pkgs;f=a.split("/");for(h=f.length;h>0;h-=1)if(i=f.slice(0,h).join("/"),g=d[i],i=c[i]){x(i)&&(i=i[0]);f.splice(0,h,i);break}else if(g){c=a===g.name?g.location+"/"+g.main:g.location;f.splice(0,h,c);break}f=f.join("/");f+=b||(/\?/.test(f)?"":".js");f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":n.baseUrl)+
f}return n.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+n.urlArgs):f},load:function(a,b){q.load(k,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if(a.type==="load"||ja.test((a.currentTarget||a.srcElement).readyState))J=null,a=K(a),k.completeLoad(a.id)},onScriptError:function(a){var b=K(a);if(!T(b.id))return D(I("scripterror","Script error",a,[b.id]))}}}};q({});aa(q);if(y&&(w=s.head=document.getElementsByTagName("head")[0],E=document.getElementsByTagName("base")[0]))w=s.head=
E.parentNode;q.onError=function(b){throw b;};q.load=function(b,c,d){var h=b&&b.config||{},f;if(y)return f=h.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),f.type=h.scriptType||"text/javascript",f.charset="utf-8",f.async=true,f.setAttribute("data-requirecontext",b.contextName),f.setAttribute("data-requiremodule",c),f.attachEvent&&!(f.attachEvent.toString&&f.attachEvent.toString().indexOf("[native code")<0)&&!U?(L=true,f.attachEvent("onreadystatechange",
b.onScriptLoad)):(f.addEventListener("load",b.onScriptLoad,false),f.addEventListener("error",b.onScriptError,false)),f.src=d,F=f,E?w.insertBefore(f,E):w.appendChild(f),F=null,f;else da&&(importScripts(d),b.completeLoad(c))};y&&A(document.getElementsByTagName("script"),function(b){if(!w)w=b.parentNode;if(v=b.getAttribute("data-main")){if(!u.baseUrl)C=v.split("/"),P=C.pop(),ba=C.length?C.join("/")+"/":"./",u.baseUrl=ba,v=P;v=v.replace(ca,"");u.deps=u.deps?u.deps.concat(v):[v];return true}});define=
function(b,c,d){var h,f;typeof b!=="string"&&(d=c,c=b,b=null);x(c)||(d=c,c=[]);!c.length&&j(d)&&d.length&&(d.toString().replace(fa,"").replace(ga,function(b,d){c.push(d)}),c=(d.length===1?["require"]:["require","exports","module"]).concat(c));if(L&&(h=F||O()))b||(b=h.getAttribute("data-requiremodule")),f=B[h.getAttribute("data-requirecontext")];(f?f.defQueue:Q).push([b,c,d])};define.amd={jQuery:true};q.exec=function(b){return eval(b)};q(u)}})(this);
(function(){var z;typeof head!="undefined"&&(z=function(){return function(c,h){c.push(h);return head.js.apply(head.js,c)}});typeof YUI!="undefined"&&(z=function(){var c;YUI().use("get",function(h){c=h});c.Get.options.async=true;return function(){c.Get.js.apply(c.Get,arguments)}});typeof yepnope!="undefined"&&(z=function(){return function(c,h){var d=c[c.length-1];yepnope({load:c,callback:function(c){d==c&&h()}})}});typeof requirejs!="undefined"&&(z=function(){return function(c,h){requirejs(c,h)}});
var j;typeof $LAB!="undefined"&&(j=function(){var c=$LAB.sandbox();this.script=function(h){c=c.script(h);return this};this.wait=function(h){c=h?c.wait(h):c.wait();return this}});j||(j=function(){var c=null,h=[],d=false,o=z(),j=function(){if(!d&&(d=h.shift()))if(d.uris.length)o(d.uris,function(c){var h=d.callback;d=false;h&&h(c);j()});else{var c=d.callback;d=false;c&&c();j()}};this.script=function(d){c&&clearTimeout(c);h.length||h.push({uris:[],callback:false});h[h.length-1].uris.push(d);c=setTimeout(j,
1);return this};this.wait=function(c){var j=h.length?h[h.length-1]:false;d&&(j=d);if(!j)return c&&c(),this;j.callback?h.push({uris:[],callback:c}):(j.callback=c,h.push({uris:[],callback:false}));return this}});j.prototype.fork=function(){return new j};j.prototype.base=function(c){for(var h=aDoc.getElementsByTagName("script"),d,c=RegExp(c),j=0,o;j<h.length;o=h[j].getAttribute("src"),j++)if(o&&c.test(o)){d=o.split("/");d.pop();d=d.join("/");break}return d};var x=1,o=null;j.prototype.style=function(c,
h){var d=document.getElementsByTagName("head")[0],j=document.createElement("link");j.setAttribute("type","text/css");j.setAttribute("rel","stylesheet");j.setAttribute("data-spitfire-index",x);h&&j.setAttribute("media",h);j.setAttribute("href",c);if(!o)o=d.lastChild;!o||!o.nextSibling?d.appendChild(j):d.insertBefore(j,o.nextSibling);o=j;x++};var A=typeof define==="function"&&define.amd;if(A||typeof exports=="object"&&exports)A&&define("Spitfire/loader",new j);else{if(!("Spitfire"in this))this.Spitfire=
{};this.Spitfire.loader=new j}}).apply(this);
